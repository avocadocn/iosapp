ion-view.competition_message_panel
  ion-header-bar
    a.button.icon.ion-chevron-left(href="#/app/discover") &nbsp;返回
    h1.title 挑战日志
  ion-content
    ion-refresher(on-refresh="getCompetitionLog(true)" refreshing-icon="ion-looping" pulling-text="下拉刷新" refreshing-text="刷新中...")
    .competition_message_list
      .type_filter.button-bar
        button.button.button-clear(ng-click="typeFilter('sponsor')" ng-class="messageType=='sponsor'?'active':''") 发出
        span.splite
        button.button.button-clear(ng-click="typeFilter('receive')" ng-class="messageType=='receive'?'active':''") 收到
      a.row.competition_message(ng-repeat="competitionMessage in competitionMessages" ng-href="#/competition_message/detail/{{competitionMessage._id}}")
        .col.col-10
          .dot(ng-if="competitionMessage.unread")
        .col.col-33
          .status_text {{competitionMessage.status}}
          .create_time {{competitionMessage.create_time | date:'yyyy-M-dd HH:mm'}}
        .col
          img.team_logo(ng-src="{{STATIC_URL + competitionMessage.sponsor_team.logo}}/40/40")
          .team_name {{competitionMessage.sponsor_team.name}}
        .col.col-10.col-center(ng-bind="competitionMessage.competition_type==1 ? '挑战' :'联谊'")
        .col
          img.team_logo(ng-src="{{STATIC_URL + competitionMessage.opposite_team.logo}}/40/40")
          .team_name {{competitionMessage.opposite_team.name}}
      .operator(ng-if="competitionMessages.length>0 &&page<=maxPage")
        button.button.button-small.button-calm(ng-click="moreCompetition()") 显示更多