<ion-view title="修改头像" animation="slide-left-right">
  <ion-nav-buttons side="left">
    <a class="button icon-left ion-ios7-arrow-back button-clear button-dark" href="#/app/settings">返回</a>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <a class="button button-clear button-dark" ng-click="submit()">使用</a>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="user_photo" no-scroll>
      <form id="edit_photo_form" action="{{ edit_form_action }}" method="post" enctype="multipart/form-data">
        <div class="row">
          <div class="col">
            <button class="button button-block button-positive" type="button" ng-click="getPhoto()"><i class="icon ion-camera"></i> 拍照</button>
          </div>
          <div class="col">
            <label class="button button-block button-positive">
              <i class="icon ion-images"></i> 本地文件
            </label>
            <input id="photo" class="ele_hiden" name="logo" type="file" accept="image/*" required/>
          </div>
        </div>
        <input type="hidden" name="userId" value="{{uid}}">
        <input type="hidden" name="target" value="u">
        <input type="hidden" name="width" value="{{crop_args.width}}">
        <input type="hidden" name="height" value="{{crop_args.height}}">
        <input type="hidden" name="x" value="{{crop_args.x}}">
        <input type="hidden" name="y" value="{{crop_args.y}}">
        <div class="photo_border">
          <img class="photo" id="preview" ng-src="{{preview_img}}" crop="crop_args" resource="preview_img" crop-photo/>
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
